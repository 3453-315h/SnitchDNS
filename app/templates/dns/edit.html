{% extends 'layout/base.html' %}

{% block content %}
<div class="row mt-5">
    <div class="col"></div>
    <div class="col-6">
        <div class="card">
            <div class="card-header">{{ 'Edit' if dns_zone_id > 0 else 'Create' }} DNS Zone</div>
            <div class="card-body">
                <form action="{{ url_for('dns.edit_save', dns_zone_id=dns_zone_id) }}" method="post">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

                    <h5>Basic Details</h5>

                    {% if current_user.admin %}
                    <div class="form-group">
                        <label for="domain">Domain</label>
                        <input type="text" name="domain" id="domain" class="form-control form-control-sm text-right" value="{{ zone.domain if dns_zone_id > 0 }}" placeholder="any.domain.you.want.com." required autofocus>
                    </div>
                    {% else %}
                    <div class="form-group">
                        <label for="domain">Domain</label>
                        <div class="input-group input-group-sm">
                            <input type="text" name="domain" id="domain" value="{{ zone.domain if dns_zone_id > 0 }}" class="form-control form-control-sm text-right" required autofocus>
                            <div class="input-group-append">
                                <span class="input-group-text">{{ user_domain }}</span>
                            </div>
                        </div>
                    </div>
                    {% endif %}

                    <div class="form-group">
                        <label for="ttl">TTL</label>
                        <input type="number" name="ttl" id="ttl" class="form-control form-control-sm text-right hide-spin-buttons" value="{{ zone.ttl if dns_zone_id > 0 }}" placeholder="60" required>
                    </div>

                    <div class="form-group">
                        <label for="class">Class</label>
                        <select name="class" id="class" class="custom-select custom-select-sm form-control text-right" required>
                            <option value=""></option>
                            {% for dns_class in dns_classes %}
                            <option value="{{ dns_class }}" {{ 'selected' if dns_zone_id > 0 and zone.rclass == dns_class }}>{{ dns_class }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="type">Type</label>
                        <select name="type" id="type" class="custom-select custom-select-sm form-control text-right" required>
                            <option value=""></option>
                            {% for dns_type in dns_types %}
                            <option value="{{ dns_type }}" {{ 'selected' if dns_zone_id > 0 and zone.type == dns_type }}>{{ dns_type }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="address">Resolve To</label>
                        <input type="text" name="address" id="address" class="form-control form-control-sm text-right" value="{{ zone.address if dns_zone_id > 0 }}" placeholder="192.168.0.1" required>
                    </div>

                    <div class="form-group row py-0 my-0">
                        <div class="col">
                            <label for="active">Active</label>
                        </div>
                        <div class="col text-right">
                            <div class="custom-control custom-switch">
                                <input name="active" type="checkbox" class="custom-control-input" id="active" value="1" {{ 'checked' if dns_zone_id > 0 and zone.active }}>
                                <label class="custom-control-label" for="active"></label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row py-0 my-0">
                        <div class="col">
                            <label for="exact_match">Exact Match</label>
                        </div>
                        <div class="col text-right">
                            <div class="custom-control custom-switch">
                                <input name="exact_match" type="checkbox" class="custom-control-input" id="exact_match" value="1" {{ 'checked' if dns_zone_id > 0 and zone.exact_match }}>
                                <label class="custom-control-label" for="exact_match"></label>
                            </div>
                        </div>
                    </div>
                    <!--
                    <h5 class="pt-4">Notifications</h5>

                    <div class="form-group row py-0 my-0">
                        <div class="col">
                            <label for="notify_email">E-mail Notifications</label>
                        </div>
                        <div class="col text-right">
                            <div class="custom-control custom-switch">
                                <input name="notify_email" type="checkbox" class="custom-control-input" id="notify_email" value="1">
                                <label class="custom-control-label" for="notify_email"></label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row pt-0 mt-0">
                        <div class="col">
                            <label for="notify_push">Web Push Notifications</label>
                        </div>
                        <div class="col text-right">
                            <div class="custom-control custom-switch">
                                <input name="notify_push" type="checkbox" class="custom-control-input" id="notify_push" value="1">
                                <label class="custom-control-label" for="notify_push"></label>
                            </div>
                        </div>
                    </div>
                    -->

                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block btn-sm">save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col"></div>
</div>
{% endblock %}